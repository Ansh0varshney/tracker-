"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/pixel/[emailID]";
exports.ids = ["pages/api/pixel/[emailID]"];
exports.modules = {

/***/ "dotenv/config":
/*!********************************!*\
  !*** external "dotenv/config" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("dotenv/config");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "(api)/./models/EmailEvent.js":
/*!******************************!*\
  !*** ./models/EmailEvent.js ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"EmailEvent\": () => (/* binding */ EmailEvent),\n/* harmony export */   \"User\": () => (/* binding */ User)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n\n// User model\nconst UserSchema = mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    _id: {\n        type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n        auto: true\n    },\n    name: {\n        type: String,\n        required: true\n    },\n    email: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    password: {\n        type: String,\n        required: true\n    },\n    company: {\n        type: String,\n        required: true\n    },\n    createdAt: {\n        type: Date,\n        default: Date.now\n    }\n});\n// Ensure email is unique\nUserSchema.index({\n    email: 1\n}, {\n    unique: true\n});\nconst User = mongoose__WEBPACK_IMPORTED_MODULE_0__.models.User || mongoose__WEBPACK_IMPORTED_MODULE_0__.model(\"User\", UserSchema);\n// Email event model\nconst EmailEventSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    user: {\n        type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n        ref: \"User\",\n        required: true\n    },\n    type: {\n        type: String,\n        required: true\n    },\n    emailId: {\n        type: String,\n        required: true\n    },\n    recipient: {\n        type: String,\n        required: true\n    },\n    company: {\n        type: String,\n        required: true\n    },\n    linkClicked: {\n        type: String\n    },\n    userAgent: {\n        type: String\n    },\n    ipAddress: {\n        type: String\n    },\n    timestamp: {\n        type: Date,\n        default: Date.now\n    }\n});\nconst EmailEvent = mongoose__WEBPACK_IMPORTED_MODULE_0__.models.EmailEvent || mongoose__WEBPACK_IMPORTED_MODULE_0__.model(\"EmailEvent\", EmailEventSchema);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvRW1haWxFdmVudC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFFaEMsYUFBYTtBQUNiLE1BQU1DLFVBQVUsR0FBR0QsNENBQWUsQ0FBQztJQUNqQ0csR0FBRyxFQUFFO1FBQUVDLElBQUksRUFBRUosMkRBQThCO1FBQUVPLElBQUksRUFBRSxJQUFJO0tBQUU7SUFDekRDLElBQUksRUFBRTtRQUFFSixJQUFJLEVBQUVLLE1BQU07UUFBRUMsUUFBUSxFQUFFLElBQUk7S0FBRTtJQUN0Q0MsS0FBSyxFQUFFO1FBQUVQLElBQUksRUFBRUssTUFBTTtRQUFFQyxRQUFRLEVBQUUsSUFBSTtRQUFFRSxNQUFNLEVBQUUsSUFBSTtLQUFFO0lBQ3JEQyxRQUFRLEVBQUU7UUFBRVQsSUFBSSxFQUFFSyxNQUFNO1FBQUVDLFFBQVEsRUFBRSxJQUFJO0tBQUU7SUFDMUNJLE9BQU8sRUFBRTtRQUFFVixJQUFJLEVBQUVLLE1BQU07UUFBRUMsUUFBUSxFQUFFLElBQUk7S0FBRTtJQUN6Q0ssU0FBUyxFQUFFO1FBQUVYLElBQUksRUFBRVksSUFBSTtRQUFFQyxPQUFPLEVBQUVELElBQUksQ0FBQ0UsR0FBRztLQUFFO0NBQzdDLENBQUM7QUFFRix5QkFBeUI7QUFDekJqQixVQUFVLENBQUNrQixLQUFLLENBQUM7SUFBRVIsS0FBSyxFQUFFLENBQUM7Q0FBRSxFQUFFO0lBQUVDLE1BQU0sRUFBRSxJQUFJO0NBQUUsQ0FBQyxDQUFDO0FBRWpELE1BQU1RLElBQUksR0FBR3BCLGlEQUFvQixJQUFJQSwyQ0FBYyxDQUFDLE1BQU0sRUFBRUMsVUFBVSxDQUFDO0FBRXZFLG9CQUFvQjtBQUNwQixNQUFNc0IsZ0JBQWdCLEdBQUcsSUFBSXZCLDRDQUFlLENBQUM7SUFDM0N3QixJQUFJLEVBQUU7UUFBRXBCLElBQUksRUFBRUosMkRBQThCO1FBQUV5QixHQUFHLEVBQUUsTUFBTTtRQUFFZixRQUFRLEVBQUUsSUFBSTtLQUFFO0lBQzNFTixJQUFJLEVBQUU7UUFBRUEsSUFBSSxFQUFFSyxNQUFNO1FBQUVDLFFBQVEsRUFBRSxJQUFJO0tBQUU7SUFDdENnQixPQUFPLEVBQUU7UUFBRXRCLElBQUksRUFBRUssTUFBTTtRQUFFQyxRQUFRLEVBQUUsSUFBSTtLQUFFO0lBQ3pDaUIsU0FBUyxFQUFFO1FBQUV2QixJQUFJLEVBQUVLLE1BQU07UUFBRUMsUUFBUSxFQUFFLElBQUk7S0FBRTtJQUMzQ0ksT0FBTyxFQUFFO1FBQUVWLElBQUksRUFBRUssTUFBTTtRQUFFQyxRQUFRLEVBQUUsSUFBSTtLQUFFO0lBQ3pDa0IsV0FBVyxFQUFFO1FBQUV4QixJQUFJLEVBQUVLLE1BQU07S0FBRTtJQUM3Qm9CLFNBQVMsRUFBRTtRQUFFekIsSUFBSSxFQUFFSyxNQUFNO0tBQUU7SUFDM0JxQixTQUFTLEVBQUU7UUFBRTFCLElBQUksRUFBRUssTUFBTTtLQUFFO0lBQzNCc0IsU0FBUyxFQUFFO1FBQUUzQixJQUFJLEVBQUVZLElBQUk7UUFBRUMsT0FBTyxFQUFFRCxJQUFJLENBQUNFLEdBQUc7S0FBRTtDQUM3QyxDQUFDO0FBRUYsTUFBTWMsVUFBVSxHQUFHaEMsdURBQTBCLElBQUlBLDJDQUFjLENBQUMsWUFBWSxFQUFFdUIsZ0JBQWdCLENBQUM7QUFFbkUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lbWFpbC10cmFja2luZy1zeXN0ZW0vLi9tb2RlbHMvRW1haWxFdmVudC5qcz9hNTQzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XHJcblxyXG4vLyBVc2VyIG1vZGVsXHJcbmNvbnN0IFVzZXJTY2hlbWEgPSBtb25nb29zZS5TY2hlbWEoe1xyXG4gIF9pZDogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIGF1dG86IHRydWUgfSxcclxuICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBlbWFpbDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCB1bmlxdWU6IHRydWUgfSxcclxuICBwYXNzd29yZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgY29tcGFueTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgY3JlYXRlZEF0OiB7IHR5cGU6IERhdGUsIGRlZmF1bHQ6IERhdGUubm93IH1cclxufSk7XHJcblxyXG4vLyBFbnN1cmUgZW1haWwgaXMgdW5pcXVlXHJcblVzZXJTY2hlbWEuaW5kZXgoeyBlbWFpbDogMSB9LCB7IHVuaXF1ZTogdHJ1ZSB9KTtcclxuXHJcbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbHMuVXNlciB8fCBtb25nb29zZS5tb2RlbCgnVXNlcicsIFVzZXJTY2hlbWEpO1xyXG5cclxuLy8gRW1haWwgZXZlbnQgbW9kZWxcclxuY29uc3QgRW1haWxFdmVudFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gIHVzZXI6IHsgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6ICdVc2VyJywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICB0eXBlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSwgLy8gJ29wZW4nLCAnY2xpY2snXHJcbiAgZW1haWxJZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgcmVjaXBpZW50OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBjb21wYW55OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBsaW5rQ2xpY2tlZDogeyB0eXBlOiBTdHJpbmcgfSwgLy8gT25seSBmb3IgJ2NsaWNrJyBldmVudHNcclxuICB1c2VyQWdlbnQ6IHsgdHlwZTogU3RyaW5nIH0sXHJcbiAgaXBBZGRyZXNzOiB7IHR5cGU6IFN0cmluZyB9LFxyXG4gIHRpbWVzdGFtcDogeyB0eXBlOiBEYXRlLCBkZWZhdWx0OiBEYXRlLm5vdyB9XHJcbn0pO1xyXG5cclxuY29uc3QgRW1haWxFdmVudCA9IG1vbmdvb3NlLm1vZGVscy5FbWFpbEV2ZW50IHx8IG1vbmdvb3NlLm1vZGVsKCdFbWFpbEV2ZW50JywgRW1haWxFdmVudFNjaGVtYSk7XHJcblxyXG5leHBvcnQgeyBVc2VyLCBFbWFpbEV2ZW50IH07Il0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiVXNlclNjaGVtYSIsIlNjaGVtYSIsIl9pZCIsInR5cGUiLCJUeXBlcyIsIk9iamVjdElkIiwiYXV0byIsIm5hbWUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImVtYWlsIiwidW5pcXVlIiwicGFzc3dvcmQiLCJjb21wYW55IiwiY3JlYXRlZEF0IiwiRGF0ZSIsImRlZmF1bHQiLCJub3ciLCJpbmRleCIsIlVzZXIiLCJtb2RlbHMiLCJtb2RlbCIsIkVtYWlsRXZlbnRTY2hlbWEiLCJ1c2VyIiwicmVmIiwiZW1haWxJZCIsInJlY2lwaWVudCIsImxpbmtDbGlja2VkIiwidXNlckFnZW50IiwiaXBBZGRyZXNzIiwidGltZXN0YW1wIiwiRW1haWxFdmVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./models/EmailEvent.js\n");

/***/ }),

/***/ "(api)/./mongodb.js":
/*!********************!*\
  !*** ./mongodb.js ***!
  \********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"connectToDatabase\": () => (/* binding */ connectToDatabase)\n/* harmony export */ });\n/* harmony import */ var dotenv_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dotenv/config */ \"dotenv/config\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n\n\nconst MONGODB_URI = process.env.MONGODB_URI;\nif (!MONGODB_URI) {\n    throw new Error(\"Please define the MONGODB_URI environment variable\");\n}\n/**\r\n * Global is used here to maintain a cached connection across hot reloads\r\n * in development. This prevents connections growing exponentially\r\n * during API Route usage.\r\n */ let cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function connectToDatabase() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const opts = {\n            useNewUrlParser: true,\n            useUnifiedTopology: true\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_1__.connect(MONGODB_URI, opts).then((mongoose)=>{\n            return mongoose;\n        });\n    }\n    cached.conn = await cached.promise;\n    return cached.conn;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb25nb2RiLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF1QjtBQUNTO0FBRWhDLE1BQU1DLFdBQVcsR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNGLFdBQVc7QUFFM0MsSUFBSSxDQUFDQSxXQUFXLEVBQUU7SUFDaEIsTUFBTSxJQUFJRyxLQUFLLENBQUMsb0RBQW9ELENBQUMsQ0FBQztBQUN4RSxDQUFDO0FBRUQ7QUFPQSxJQUFJLENBQUNDLE1BQU0sRUFBRTtJQUNYQSxNQUFNLEdBQUdDLE1BQU0sQ0FBQ04sUUFBUSxHQUFHO1FBQUVPLElBQUksRUFBRSxJQUFJO1FBQUVDLE9BQU8sRUFBRSxJQUFJO0tBQUUsQ0FBQztBQUMzRCxDQUFDO0FBRUQsT0FBTztJQUNMLElBQUlILE1BQU0sQ0FBQ0UsSUFBSSxFQUFFOzs7QUFJakIsQ0FBSSxDQUFDRixNQUFNLENBQUNHLE9BQU8sRUFBRTtRQUNuQixNQUFNRSxJQUFJLEdBQUc7WUFDWEMsZUFBZTs7U0FFaEI7UUFFRE4sTUFBTSxDQUFDRyxPQUFPO1lBRVYsT0FBT1IsUUFBUSxDQUFDO1FBQ2xCLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUNESyxNQUFNLENBQUNFLElBQUksR0FBRyxNQUFNRixDQUFBQSw2Q0FBZTtJQUNuQyxPQUFPQSxNQUFNLENBQUNFLElBQUksQ0FBQztBQUNyQixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZW1haWwtdHJhY2tpbmctc3lzdGVtLy4vbW9uZ29kYi5qcz80OGQ0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnZG90ZW52L2NvbmZpZyc7XHJcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XHJcblxyXG5jb25zdCBNT05HT0RCX1VSSSA9IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJO1xyXG5cclxuaWYgKCFNT05HT0RCX1VSSSkge1xyXG4gIHRocm93IG5ldyBFcnJvcignUGxlYXNlIGRlZmluZSB0aGUgTU9OR09EQl9VUkkgZW52aXJvbm1lbnQgdmFyaWFibGUnKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdsb2JhbCBpcyB1c2VkIGhlcmUgdG8gbWFpbnRhaW4gYSBjYWNoZWQgY29ubmVjdGlvbiBhY3Jvc3MgaG90IHJlbG9hZHNcclxuICogaW4gZGV2ZWxvcG1lbnQuIFRoaXMgcHJldmVudHMgY29ubmVjdGlvbnMgZ3Jvd2luZyBleHBvbmVudGlhbGx5XHJcbiAqIGR1cmluZyBBUEkgUm91dGUgdXNhZ2UuXHJcbiAqL1xyXG5sZXQgY2FjaGVkID0gZ2xvYmFsLm1vbmdvb3NlO1xyXG5cclxuaWYgKCFjYWNoZWQpIHtcclxuICBjYWNoZWQgPSBnbG9iYWwubW9uZ29vc2UgPSB7IGNvbm46IG51bGwsIHByb21pc2U6IG51bGwgfTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbm5lY3RUb0RhdGFiYXNlKCkge1xyXG4gIGlmIChjYWNoZWQuY29ubikge1xyXG4gICAgcmV0dXJuIGNhY2hlZC5jb25uO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFjYWNoZWQucHJvbWlzZSkge1xyXG4gICAgY29uc3Qgb3B0cyA9IHtcclxuICAgICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxyXG4gICAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXHJcbiAgICB9O1xyXG5cclxuICAgIGNhY2hlZC5wcm9taXNlID0gbW9uZ29vc2UuY29ubmVjdChNT05HT0RCX1VSSSwgb3B0cylcclxuICAgICAgLnRoZW4obW9uZ29vc2UgPT4ge1xyXG4gICAgICAgIHJldHVybiBtb25nb29zZTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG4gIGNhY2hlZC5jb25uID0gYXdhaXQgY2FjaGVkLnByb21pc2U7XHJcbiAgcmV0dXJuIGNhY2hlZC5jb25uO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsIk1PTkdPREJfVVJJIiwicHJvY2VzcyIsImVudiIsIkVycm9yIiwiY2FjaGVkIiwiZ2xvYmFsIiwiY29ubiIsInByb21pc2UiLCJjb25uZWN0VG9EYXRhYmFzZSIsIm9wdHMiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJjb25uZWN0IiwidGhlbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./mongodb.js\n");

/***/ }),

/***/ "(api)/./pages/api/pixel/[emailID].js":
/*!**************************************!*\
  !*** ./pages/api/pixel/[emailID].js ***!
  \**************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var _mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../mongodb */ \"(api)/./mongodb.js\");\n/* harmony import */ var _models_EmailEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../models/EmailEvent */ \"(api)/./models/EmailEvent.js\");\n// File: api/pixel/[emailID].js - Tracking pixel endpoint\n\n\n\nasync function handler(req, res) {\n    // Only allow GET requests\n    if (req.method !== \"GET\") {\n        return res.status(405).end(\"Method Not Allowed\");\n    }\n    console.log(\"Pixel tracking request received:\", {\n        query: req.query,\n        headers: req.headers,\n        method: req.method\n    });\n    const emailId = req.query.emailID;\n    const { p: recipient , c: company  } = req.query;\n    try {\n        console.log(\"Attempting to connect to MongoDB...\");\n        // Connect to MongoDB\n        await (0,_mongodb__WEBPACK_IMPORTED_MODULE_1__.connectToDatabase)();\n        console.log(\"MongoDB connection successful\");\n        // Find the user by the emailId from the URL\n        const user = await _models_EmailEvent__WEBPACK_IMPORTED_MODULE_2__.User.findOne({\n            email: emailId\n        });\n        if (!user) {\n            console.error(\"User not found for email:\", emailId);\n            return res.status(404).json({\n                error: \"User not found\"\n            });\n        }\n        console.log(\"Found user:\", user);\n        // Create a new email open event\n        const openEvent = new _models_EmailEvent__WEBPACK_IMPORTED_MODULE_2__.EmailEvent({\n            user: user._id,\n            type: \"open\",\n            emailId,\n            recipient,\n            company,\n            userAgent: req.headers[\"user-agent\"],\n            ipAddress: req.headers[\"x-forwarded-for\"] || req.socket.remoteAddress\n        });\n        console.log(\"Saving event:\", openEvent);\n        // Save the event\n        await openEvent.save();\n        console.log(`Email open tracked: ${emailId} by ${recipient} at ${company}`);\n        // Return a 1x1 transparent GIF\n        const pixel = Buffer.from(\"R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\", \"base64\");\n        res.setHeader(\"Content-Type\", \"image/gif\");\n        res.setHeader(\"Content-Length\", pixel.length);\n        res.setHeader(\"Cache-Control\", \"no-store, no-cache, must-revalidate, proxy-revalidate\");\n        res.setHeader(\"Pragma\", \"no-cache\");\n        res.setHeader(\"Expires\", \"0\");\n        return res.status(200).send(pixel);\n    } catch (error) {\n        console.error(\"Error tracking open:\", {\n            error: error.message,\n            stack: error.stack,\n            emailId,\n            recipient,\n            company\n        });\n        return res.status(500).end();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFlLEVBQUUsdURBQXVELENBQUMsQ0FBQztRQUN4RjlCLEdBQUcsQ0FBQzhCLFNBQVMsQ0FBQyxRQUFRLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDcEM5QixHQUFHLENBQUM4QixTQUFTLENBQUMsU0FBUyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQzlCLE9BQU85QixHQUFHLENBQUNFLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQzhCLElBQUksQ0FBQ0wsS0FBSyxDQUFDLENBQUM7SUFDckMsRUFBRSxPQUFPVixLQUFLLEVBQUU7UUFDZGIsT0FBTyxDQUFDYSxLQUFLLENBQUMsc0JBQXNCLEVBQUU7WUFDcENBLEtBQUssRUFBRUEsS0FBSyxDQUFDZ0IsT0FBTztZQUNwQkMsS0FBSyxFQUFFakIsS0FBSyxDQUFDaUIsS0FBSztZQUNsQjFCLE9BQU87WUFDUEcsU0FBUztZQUNURSxPQUFPO1NBQ1IsQ0FBQyxDQUFDO1FBQ0gsT0FBT2IsR0FBRyxDQUFDRSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLEdBQUcsRUFBRSxDQUFDO0lBQy9CLENBQUM7QUFDSCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZW1haWwtdHJhY2tpbmctc3lzdGVtLy4vcGFnZXMvYXBpL3BpeGVsL1tlbWFpbElEXS5qcz83YjliIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGU6IGFwaS9waXhlbC9bZW1haWxJRF0uanMgLSBUcmFja2luZyBwaXhlbCBlbmRwb2ludFxyXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5pbXBvcnQgeyBjb25uZWN0VG9EYXRhYmFzZSB9IGZyb20gJy4uLy4uLy4uL21vbmdvZGInO1xyXG5pbXBvcnQgeyBVc2VyLCBFbWFpbEV2ZW50IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL0VtYWlsRXZlbnQnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xyXG4gIC8vIE9ubHkgYWxsb3cgR0VUIHJlcXVlc3RzXHJcbiAgaWYgKHJlcS5tZXRob2QgIT09ICdHRVQnKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmVuZCgnTWV0aG9kIE5vdCBBbGxvd2VkJyk7XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnNvbGUubG9nKCdQaXhlbCB0cmFja2luZyByZXF1ZXN0IHJlY2VpdmVkOicsIHsgIFxyXG4gICAgcXVlcnk6IHJlcS5xdWVyeSxcclxuICAgIGhlYWRlcnM6IHJlcS5oZWFkZXJzLFxyXG4gICAgbWV0aG9kOiByZXEubWV0aG9kXHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGVtYWlsSWQgPSByZXEucXVlcnkuZW1haWxJRDtcclxuICBjb25zdCB7IHA6IHJlY2lwaWVudCwgYzogY29tcGFueSB9ID0gcmVxLnF1ZXJ5O1xyXG5cclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coJ0F0dGVtcHRpbmcgdG8gY29ubmVjdCB0byBNb25nb0RCLi4uJyk7XHJcbiAgICAvLyBDb25uZWN0IHRvIE1vbmdvREJcclxuICAgIGF3YWl0IGNvbm5lY3RUb0RhdGFiYXNlKCk7XHJcbiAgICBjb25zb2xlLmxvZygnTW9uZ29EQiBjb25uZWN0aW9uIHN1Y2Nlc3NmdWwnKTtcclxuICAgIFxyXG4gICAgLy8gRmluZCB0aGUgdXNlciBieSB0aGUgZW1haWxJZCBmcm9tIHRoZSBVUkxcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBlbWFpbDogZW1haWxJZCB9KTtcclxuICAgIGlmICghdXNlcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdVc2VyIG5vdCBmb3VuZCBmb3IgZW1haWw6JywgZW1haWxJZCk7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnVXNlciBub3QgZm91bmQnIH0pO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coXCJGb3VuZCB1c2VyOlwiLCB1c2VyKTtcclxuXHJcbiAgICAvLyBDcmVhdGUgYSBuZXcgZW1haWwgb3BlbiBldmVudFxyXG4gICAgY29uc3Qgb3BlbkV2ZW50ID0gbmV3IEVtYWlsRXZlbnQoe1xyXG4gICAgICB1c2VyOiB1c2VyLl9pZCxcclxuICAgICAgdHlwZTogJ29wZW4nLFxyXG4gICAgICBlbWFpbElkLFxyXG4gICAgICByZWNpcGllbnQsXHJcbiAgICAgIGNvbXBhbnksXHJcbiAgICAgIHVzZXJBZ2VudDogcmVxLmhlYWRlcnNbJ3VzZXItYWdlbnQnXSxcclxuICAgICAgaXBBZGRyZXNzOiByZXEuaGVhZGVyc1sneC1mb3J3YXJkZWQtZm9yJ10gfHwgcmVxLnNvY2tldC5yZW1vdGVBZGRyZXNzXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zb2xlLmxvZygnU2F2aW5nIGV2ZW50OicsIG9wZW5FdmVudCk7XHJcbiAgICAvLyBTYXZlIHRoZSBldmVudFxyXG4gICAgYXdhaXQgb3BlbkV2ZW50LnNhdmUoKTtcclxuICAgIGNvbnNvbGUubG9nKGBFbWFpbCBvcGVuIHRyYWNrZWQ6ICR7ZW1haWxJZH0gYnkgJHtyZWNpcGllbnR9IGF0ICR7Y29tcGFueX1gKTtcclxuICAgIFxyXG4gICAgLy8gUmV0dXJuIGEgMXgxIHRyYW5zcGFyZW50IEdJRlxyXG4gICAgY29uc3QgcGl4ZWwgPSBCdWZmZXIuZnJvbSgnUjBsR09EbGhBUUFCQUlBQUFBQUFBUC8vL3lINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQlJBQTcnLCAnYmFzZTY0Jyk7XHJcbiAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnaW1hZ2UvZ2lmJyk7XHJcbiAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LUxlbmd0aCcsIHBpeGVsLmxlbmd0aCk7XHJcbiAgICByZXMuc2V0SGVhZGVyKCdDYWNoZS1Db250cm9sJywgJ25vLXN0b3JlLCBuby1jYWNoZSwgbXVzdC1yZXZhbGlkYXRlLCBwcm94eS1yZXZhbGlkYXRlJyk7XHJcbiAgICByZXMuc2V0SGVhZGVyKCdQcmFnbWEnLCAnbm8tY2FjaGUnKTtcclxuICAgIHJlcy5zZXRIZWFkZXIoJ0V4cGlyZXMnLCAnMCcpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHBpeGVsKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdHJhY2tpbmcgb3BlbjonLCB7XHJcbiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgICBzdGFjazogZXJyb3Iuc3RhY2ssXHJcbiAgICAgIGVtYWlsSWQsXHJcbiAgICAgIHJlY2lwaWVudCxcclxuICAgICAgY29tcGFueVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmVuZCgpO1xyXG4gIH1cclxufSJdLCJuYW1lcyI6WyJtb25nb29zZSIsImNvbm5lY3RUb0RhdGFiYXNlIiwiVXNlciIsIkVtYWlsRXZlbnQiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwiZW5kIiwiY29uc29sZSIsImxvZyIsInF1ZXJ5IiwiaGVhZGVycyIsImVtYWlsSWQiLCJlbWFpbElEIiwicCIsInJlY2lwaWVudCIsImMiLCJjb21wYW55IiwidXNlciIsImZpbmRPbmUiLCJlbWFpbCIsImVycm9yIiwianNvbiIsIm9wZW5FdmVudCIsIl9pZCIsInR5cGUiLCJ1c2VyQWdlbnQiLCJpcEFkZHJlc3MiLCJzb2NrZXQiLCJyZW1vdGVBZGRyZXNzIiwic2F2ZSIsInBpeGVsIiwiQnVmZmVyIiwiZnJvbSIsInNldEhlYWRlciIsImxlbmd0aCIsInNlbmQiLCJtZXNzYWdlIiwic3RhY2siXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/pixel/[emailID].js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/pixel/[emailID].js"));
module.exports = __webpack_exports__;

})();